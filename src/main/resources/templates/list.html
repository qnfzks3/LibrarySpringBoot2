<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">



<!-- 검색 조건 여기선 빼자
  <div id="main" th:with="pglink=${(#strings.isEmpty(param.fkey))? '/board/list?cpg=':
      '/board/find?ftype='+param.ftype+'&fkey='+param.fkey+'&cpg='}">-->

<head>
  <meta charset="UTF-8">
  <title>도서관 정보 조회</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/d191e02584.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/assets/css/LibrarySpringBoot2.css">

</head>
<body>
<th:block>
  <div id="main" th:with="pglink=${'/list?cpg='}">


    <div class="mt-5">
      <i class="fa-solid fa-pen-to-square fa-2xl"> 게시판 </i>
      <hr>
    </div>

    <div class="row mt-5">
      <div class="row offset-2 col-6">
        <th:block th:if="${not #strings.isEmpty(session.UID)}">
          <div class="col-3">
            <select class="form-select" id="findtype">
              <option value="title">제목</option>
              <option value="titcont">제목+내용</option>
              <option value="content">내용</option>
              <option value="userid">작성자</option>
            </select></div>

          <div class="col-4">
            <input type="text" class="form-control col-2" id="findkey"
                   th:value="${param.fkey}"></div> <!--다른 곳에서 받아올때 th:* =쓰고 "${가져올 변수}"로 한다.-->
          <div class="col-3">
            <button type="button" class="btn btn-light" id="findbtn">
              <i class="fa-solid fa-magnifying-glass"> </i> 검색하기</button>
          </div>
        </th:block>
        &nbsp;
      </div>
      <div class="col-2 text-end">
        &nbsp;
      </div>

      <div class="row mt-2">
        <div class="offset-2 col-8">
          <table class="table table-striped tbborder">
            <thead class="thbg">
            <tr><th style="width: 7%">도서관번호</th>
              <th>도서관 명</th>
              <th style="width: 13%">시도</th>
              <th style="width: 13%">도군</th>
              <th style="width: 7%">운영종료일</th>
              <th style="width: 7%">연락처</th></tr>
            </thead>
            <tbody>

            <!--<c:forEach items="${bdlist}" var="bd">   -->
            <!--bdlist에서 bd를 가져온다. - 테이블 -->
            <tr th:each="ld : ${bdlist}">
              <td th:text="${lb.lbno}">&nbsp;</td>
              <td><a th:href="|/board/view?bno=${lb.lbno}|"
                     th:text="${lb.title}">&nbsp;</a></td>
              <!--?는 if문 같이 작동하기때문에 |   | 안에 써주자-->
              <td th:text="${lb.sido}">&nbsp;</td>
              <td th:text="${lb.gugun}"></td>
              <td th:text="${bd.regdate}">&nbsp;</td>
              <!--#strings.substring(bd.regdate,0,10)첫번째부터 9번째까지 글자-뒤에 시간 빼고 출력-->
              <td th:text="${lb.phone}">&nbsp;</td>

            </tr>

            </tbody>
          </table>
        </div>
      </div>

      <div class="row">
        <div class="offset-2 col-8">
          <!--<nav>
            <ul class="pagination justify-content-center">
              &lt;!&ndash;foreach&ndash;&gt;

              <th:block th:if="${cpg gt 1}">  &lt;!&ndash;gt는 < 와 같음 cpg 1보다 클 때 실행&ndash;&gt;

                <li class="page-item">
                  <a class="page-link" th:href="|${pglink}1|" th:text="처음"> </a>
                </li>

              </th:block>

              &lt;!&ndash;<th:block th:if="${cpg - 1 gt 0}"><li class="page-item"></th:block>
              <th:block th:unless="${cpg - 1 lt 0}"><li class="page-item disabled" ></th:block>&ndash;&gt;
              <li th:class="${(cpg - 1 gt 0)?'page-item':'page-item disabled'}">
                <a class="page-link" th:href="|${pglink}${cpg - 1}|" th:text="이전"> </a></li>



              &lt;!&ndash;<li class="page-item">
                <a class="page-link" href="${pglink}${cpg-1}">이전</a></li>&ndash;&gt;

              <th:block th:each="i : ${#numbers.sequence(stpg, stpg + 9)}">

                <th:block th:if="${i le cntpg}">
                  <li th:class="${(i ne cpg)?'page-item ':'page-item active'}">
                    &lt;!&ndash;ne는 !=와 같다 i가 cpg(현재 페이지)와 같다면 page-item active 아니면 page-item&ndash;&gt;
                    <a class="page-link" th:href="|${pglink}${i}|" th:text="${i}"> </a>
                  </li>
                </th:block>
              </th:block>




              <li th:class="${(cpg + 1 le cntpg)?'page-item':'page-item disabled'}">
                &lt;!&ndash;참이면 page-item 거짓이면 page-item disabled&ndash;&gt;
                <a class="page-link" th:href="|${pglink}${cpg + 1}|" th:text="다음"> </a>
              </li>


              <th:block th:if="${cpg lt cntpg}"> &lt;!&ndash;lt는>와 같음 만약 cntpg가 cntpg(페이지끝)보다 작으면 끝이 실행&ndash;&gt;

                <li class="page-item">
                  <a class="page-link" th:href="|${pglink}${cntpg}|" th:text="끝"> </a>
                </li>

              </th:block>




            </ul>
          </nav>-->
        </div>
      </div>

    </div>





  </div>
</th:block>




</body>


</html>